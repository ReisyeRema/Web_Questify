{% extends 'questify_app/layout/base.html' %}
{% load static %}

{% block page_css %}
  <link rel="stylesheet" href="{% static 'css/userprofile.css' %}">
  <link rel="stylesheet" href="{% static 'css/detailtransaksi.css' %}">
{% endblock %}

{% block title %}Detail Transaksi{% endblock %}

{% block content %}
<main class="container my-5">
    <div class="row justify-content-center mt-5">
      <div class="col-md-12 mb-5">
        <section class="card shadow-sm">
          <div class="card-body">
            <div class="text-center my-4">
              <img src="{% if user.profile.profile_picture %}{{ user.profile.profile_picture.url }}{% else %}{% static 'images/profil.png' %}{% endif %}" 
                   alt="Profile Picture" class="rounded-circle img-fluid" style="max-width: 200px;">
            </div>
  
            <!-- Additional Actions -->
            <div class="d-flex justify-content-center gap-2 mb-3">
              <a href="{% url 'account_change_password' %}" class="btn btn-sm btn-primary">Ganti Password</a>
              <a href="{% url 'account_email' %}" class="btn btn-sm btn-primary">Ganti Email</a>
            </div>
            <section>
                <ul class="nav nav-pills justify-content-center py-2 mb-3 rounded shadow-sm" style="background: white;">
                    <li class="nav-item">
                        <a class="nav-link text-primary {% if request.resolver_match.url_name == 'userprofile' %}active{% endif %}" href="{% url 'questify_app:userprofile' %}">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-primary {% if request.resolver_match.url_name == 'daftartransaksi' %}active{% endif %}" href="{% url 'questify_app:daftartransaksi' %}">Daftar Transaksi</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-primary" href="{% url 'account_logout' %}">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </li>
                </ul>
            </section>

            <section>
              <div class="card-body">
                <div class="section-header mb-4">
                  <h3>Detail Transaksi</h3>
                </div>
                <div class="row mt-4">
                  <!-- Left Side: Program Details -->
                  <div class="col-md-5">
                    <div class="program-container">
                      <p class="program-provider">
                        Penyedia Program: <span style="font-weight: bold">Questify</span>
                      </p>
                      <div class="program">
                        <div class="program-title"><b>KELAS BASIC</b></div>
                        <p class="program-price"><b>Rp. 50.000</b></p>
                      </div>
                    </div>
                  </div>

                  <!-- Right Side: Transaction Details -->
                  <div class="col-md-7 mt-3">
                    <div class="details">
                      <table class="table">
                        <tr>
                          <td>No Rekening Tujuan:</td>
                          <td>
                            <img src="{% static 'images/bri.png' %}" alt="Logo BRI" class="bank-logo" style="width: 40px" />
                            12837748949473<br />A.n.: Budi Budiman<br />BANK BRI
                          </td>
                        </tr>
                        <tr>
                          <td>Tanggal Pembelian:</td>
                          <td>24 September 2024, 08:00 WIB</td>
                        </tr>
                        <tr>
                          <td>Tanggal Pembayaran:</td>
                          <td>24 September 2024, 08:20 WIB</td>
                        </tr>
                        <tr>
                          <td>Status Pembayaran:</td>
                          <td class="status-success">Berhasil</td>
                        </tr>
                        <tr>
                          <td>Metode Pembayaran:</td>
                          <td>
                            <b>Transfer Bank</b><br />
                            <img src="{% static 'images/bri.png' %}" alt="Logo BRI" class="bank-logo" style="width: 40px" /><br />
                            BANK BRI<br />
                            Sumber Dana: 67282828399<br />A.n.: Putri
                          </td>
                        </tr>
                        <tr>
                          <td>Detail Pembayaran:</td>
                          <td>
                            <table style="width: 100%; border-collapse: collapse">
                              <tr>
                                <td>Kelas Basic:</td>
                                <td style="text-align: right">Rp. 50.000</td>
                              </tr>
                              <tr>
                                <td>Biaya Transfer:</td>
                                <td style="text-align: right">Rp. 6.500</td>
                              </tr>
                            </table>
                          </td>
                        </tr>
                        <tr>
                          <td><strong>Total Pembayaran:</strong></td>
                          <td style="text-align: right"><strong>Rp. 56.500</strong></td>
                        </tr>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </section>
      </div>
    </div>
  </main>
{% endblock %}
