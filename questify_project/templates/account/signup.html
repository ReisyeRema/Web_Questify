{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/style1.css' %}">
    <title>Register Page</title>
</head>
<body>

    <!-- Main content -->
    <main class="container-fluid d-flex justify-content-center align-items-center mt-5" style="height: 90vh;">
        <section class="row w-90 shadow-xl mx-auto rounded-3 overflow-hidden my-3" style="max-height: 100%;">
            <!-- Side Image Section -->
            <div class="col-md-6 p-0 vh-100 d-flex flex-column justify-content-center align-items-center text-white d-none d-md-flex rounded-5" style="background: linear-gradient(180deg, #EE9AE5, #5961F9); position: relative;">
                <a href="{% url 'questify_app:index' %}" class="btn btn-outline-light position-absolute d-none d-md-block" style="top: 20px; left: 20px;">Kembali</a>
                <div class="text-center mb-5 p-4 d-flex align-items-center gap-2" style="position: relative;">
                    <h3 class="display-4 fw-bold mb-0" style="color: #010851; position: relative; margin-top: -300px;">Questify</h3>
                    <img src="{% static 'images/arcticons--flixquest.png' %}" alt="Company Logo" style="width: 80px; height: 80px; opacity: 50%; position: relative; margin-top: -300px; margin-left: -20px;">
                </div>
                <p class="text-center" style="color: white; font-size: 1.5rem; font-weight: 500; margin-top: -140px;">Asah Kecepatan Berpikir</p>
                <p class="text-center" style="color: white; font-size: 1.5rem; font-weight: 500;">Taklukan Setiap Misi</p>
                <img src="{% static 'images/pngwing.com.png' %}" alt="hiasan" style="width: 300px; height: 300px; position: absolute; left: -120px; bottom: 40px; opacity: 50%;">
                <img src="{% static 'images/pngwing.com.png' %}" alt="hiasan" style="width: 300px; height: 300px; position: absolute; left: -100px; bottom: 0px; opacity: 50%;">
            </div>

            <!-- Registration Form -->
            <div class="col-md-6 bg-white p-5 d-flex flex-column justify-content-center vh-100">
                <a href="#" class="btn btn-outline-secondary mb-3 d-md-none" style="align-self: flex-start;">Kembali</a>
                <h2 class="text-start mb-3" style="color: black;">
                    Halo, Selamat Datang di <strong style="color: #010851;">Questify</strong>
                    <img class="rounded" src="{% static 'images/arcticons--flixquest.png' %}" alt="Company Logo" style="width: 50px; height: 50px; position: relative; left: -10px;">
                </h2>

                <form method="POST" action="">
                    {% csrf_token %}
                    <div class="row mb-3">
                        <div class="col">
                            <input type="text" name="first_name" id="first_name" placeholder="Nama Depan" class="form-control input-style">
                            {{ form.first_name.errors }}
                        </div>
                        <div class="col">
                            <input type="text" name="last_name" id="last_name" placeholder="Nama Belakang" class="form-control input-style">
                            {{ form.last_name.errors }}
                        </div>
                    </div>

                    <div class="mb-3">
                        <input type="text" name="username" id="username" placeholder="Username" class="form-control input-style">
                        {{ form.username.errors }}
                    </div>

                    <div class="mb-3">
                        <input type="email" name="email" id="email" placeholder="Alamat Email" class="form-control input-style">
                        {{ form.email.errors }}
                    </div>

                    <div class="input-group mb-3">
                        <input type="password" name="password1" id="password1" placeholder="Password" class="form-control input-style">
                        <button type="button" id="toggle-password1" class="btn btn-outline-secondary">Show</button>
                        {{ form.password1.errors }}
                    </div>
                    <div class="form-text text-muted">
                        Password harus minimal 8 karakter, mengandung huruf besar, huruf kecil, angka, dan simbol.
                    </div>

                    <div class="input-group mb-3">
                        <input type="password" name="password2" id="password2" placeholder="Konfirmasi Password" class="form-control input-style">
                        <button type="button" id="toggle-password2" class="btn btn-outline-secondary">Show</button>
                        {{ form.password2.errors }}
                    </div>

                    <div class="d-grid mb-3">
                        <button type="submit" class="btn btn-primary btn-custom w-100">Register</button>
                    </div>

                    <div class="text-center mb-3">
                        <a href="{% provider_login_url 'google' %}" class="btn btn-outline-secondary d-flex align-items-center justify-content-center w-100">
                            <img src="{% static 'images/google.png' %}" alt="Google logo" style="width: 18px; margin-right: 10px;">
                            <span>Register dengan Google</span>
                        </a>
                    </div>

                    <div class="text-center mt-2">
                        <p>Sudah punya akun? <a href="{% url 'account_login' %}" class="text-decoration-none">Masuk disini</a></p>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const togglePassword = (field, toggle) => {
                toggle.addEventListener('click', () => {
                    if (field.type === 'password') {
                        field.type = 'text';
                        toggle.textContent = 'Hide';
                    } else {
                        field.type = 'password';
                        toggle.textContent = 'Show';
                    }
                });
            };

            togglePassword(document.getElementById('password1'), document.getElementById('toggle-password1'));
            togglePassword(document.getElementById('password2'), document.getElementById('toggle-password2'));
        });
    </script>
</body>
</html>
